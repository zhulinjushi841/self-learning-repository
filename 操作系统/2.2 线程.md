<!--
 * @Author: Jerome 841682441@qq.com
 * @Date: 2022-12-12 00:55:42
 * @LastEditors: Jerome 841682441@qq.com
 * @LastEditTime: 2022-12-12 01:13:55
 * @FilePath: \操作系统\2.2 线程.md
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
-->
## 线程

**1 线程**
进程是程序的一次执行。但是这些功能显然不可能是由一个程序顺序处理就能实现的。
有的进程可能需要"同时"做很多事，而传统的进程只能串行地执行一系列程序。为此，引入了**线程**的概念，来增加并发度。

因此，在引入线程的概念之前，传统的进程是程序执行流的最小单位。
但是在引入线程后，线程就成为了程序执行流的最小单位。
>可以把线程理解为轻量级进程。线程是一个基本的CPU执行单元，也是程序执行流的最小单元。

在引入了线程之后，不仅是进程之间可以并发，进程内的各线程之间也可以并发，从而进一步提高了系统的并发度，使得一个进程内也可以并发处理各种任务。
引入线程的概念之后，进程只作为除CPU之外的系统资源的分配单元。

**引入了线程机制后，有什么变化？**
**传统进程机制**
1)资源分配、调度：进程是资源分配和调度的基本单位
2)并发性：只能在进程间并发
3)系统开销：传统的进程间并发，需要切换进程的运行环境，系统的开销很大

**引入线程机制后**
1)资源分配、调度：进程是资源分配的基本单位，线程是调度的基本单位
2)并发性：各线程之间也能并发，提高了并发度
3)系统开销：线程间并发，如果是同一进程内的线程切换，就不需要切换进程环境，系统开销很小

**线程的属性**
1)线程是处理机调度的单位
2)多CPU计算机中，各个线程可占用不同的CPU
3)每个线程都有一个线程ID、线程控制块(PCB)
4)线程也有就绪、阻塞、运行三种基本状态
5)线程几乎不拥有系统资源
6)同一进程的不同线程间共享进程的资源
7)由于共享内存地址空间，同一进程中的线程间通信甚至无需系统干预
8)同一进程中的线程切换，不会因此进程切换
9)不同进程中的线程切换，会因此进程切换
10)切换同进程内的线程，系统开销很小
11)切换进程，系统开销很大
